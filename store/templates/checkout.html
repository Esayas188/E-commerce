{% extends "base.html" %}
{% load static %}

{% block content %}
    <div class="min-h-full px-[60px] my-4 grid grid-cols-3">
        <div class="lg:col-span-2 col-span-3  space-y-8 px-4 sm:px-12">
            <div class="mt-8 p-4 relative flex flex-col sm:flex-row sm:items-center bg-white shadow rounded-sm">
                <div class="flex flex-row items-center border-b sm:border-b-0 w-full sm:w-auto pb-4 sm:pb-0">
                    <div class="text-yellow-500">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 sm:w-5 h-6 sm:h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div class="text-sm font-medium ml-3">Checkout</div>
                </div>
                <div class="text-sm tracking-wide text-gray-500 mt-4 sm:mt-0 sm:ml-4">Complete your shipping and payment details below.</div>
                <div class="absolute sm:relative sm:top-auto sm:right-auto ml-auto right-4 top-4 text-gray-400 hover:text-gray-800 cursor-pointer">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </div>
            </div>
            <div class=" rounded-md">
                <h2 class="uppercase tracking-wide text-lg font-semibold text-gray-700 my-2">Shipping & Billing Information</h2>

                <form action="" action="" id="form" class="flex flex-col mb-3 bg-white shadow-lg px-8 py-10 rounded text-gray-600">
                        <label class="  py-1">
                            <span class="">First Name</span>
                            <input name="first-name" class="focus:outline-none w-full h-[35px] border-gray-200" placeholder="" required="">
                        </label>
                        <label class="   py-1">
                            Last Name
                            <input name="last-name" type="text" class="focus:outline-none w-full h-[35px] border-gray-200" required="">
                        </label>
                        <label class="   py-1">
                            <span class="">Email</span>
                            <input name="email" type="email" class="focus:outline-none w-full h-[35px] border-gray-200">
                        </label>
                        <label class="  py-1">
                            <span class="">Phone</span>
                            <input name="phone" type="number" class="focus:outline-none w-full h-[35px] border-gray-200">
                        </label>
                        <label class="  py-1">
                            <span class=" ">Address</span>
                            <input name="address" type="text" class="focus:outline-none w-full h-[35px] border-gray-200">
                        </label>
                        <button type="submit" class="mt-6 submit-button px-4 py-3 rounded-full bg-[#fbab2b] hover:bg-[rgba(251,171,43,0.6)] text-white focus:ring focus:outline-none w-full text-xl font-semibold transition-colors">
                            Pay €{{order.get_cart_total|floatformat:2}}
                        </button>

                </form>

            </div>


            
        </div>
        <div class="col-span-1  lg:block hidden">
            <h1 class="py-6 border-b-2 text-xl text-gray-600 px-8">Order Summary</h1>
            <ul class="py-6 border-b max-h-[200px] hover:cursor-pointer scrollbar-hidden overflow-y-scroll space-y-6 px-8">
                {% for item in items  %}
                    <li class="grid grid-cols-6 gap-2 border-b-1">
                        <div class="col-span-1 self-center">
                            <img src='{{item.product.imageURL}}' alt="Product" class="rounded w-full">
                        </div>
                        <div class="flex flex-col col-span-3 pt-2">
                            <span class="text-gray-600 text-md font-semi-bold">{{item.product.name}}</span>
                        </div>
                        <div class="col-span-2 pt-3">
                            <div class="flex items-center space-x-2 text-sm justify-between">
                                <span class="text-gray-400">{{item.quantity}} x {{item.product.price|floatformat:2}}</span>
                                <span class="text-[#fbab2b] font-semibold inline-block">{{item.get_total}}</span>
                                
                            </div>
                        </div>
                    </li>
                  
                {% endfor %}
            </ul>
            <div class="px-8 border-b">
                <div class="flex justify-between py-4 text-gray-600">
                    <span>Subtotal</span>
                    <span class="font-semibold text-[#fbab2b]">€{{order.get_cart_total|floatformat:2}}</span>
                </div>
                <div class="flex justify-between py-4 text-gray-600">
                    <span>Shipping</span>
                    <span class="font-semibold text-[#fbab2b]">Free</span>
                </div>
            </div>
            <div class="font-semibold text-xl px-8 flex justify-between py-8 text-gray-600">
                <span>Total</span>
                <span>€{{order.get_cart_total|floatformat:2}}</span>
            </div>
        </div>
    </div>
    <script>
		var total_price = '{{order.get_cart_total}}'
        var form = document.getElementById('form')
		form.addEventListener('submit', function(e){
	    	e.preventDefault()
	    	console.log('Submitted')

            })


    </script>
{% endblock content %}